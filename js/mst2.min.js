utl.directive("mstWh",["validateFactory",function(t){return{restrict:"EC",link:function(s,t,e){s.mst={curr_step:1,num_steps:null,email_step:null,zipcode_step:null,age_step:null,password_step:null,gender_step:null,unick_step:null,uadvert_step:null,uadvert_title_step:null,build_step:null,race_step:null,ustatus_step:null,step_animation_handler:e.animationHandler,error_handler:e.errorHandler,step_class:e.stepClass},void 0!==e.numSteps&&(s.mst.num_steps=parseInt(e.numSteps)),void 0!==e.emailStep&&(s.mst.email_step=parseInt(e.emailStep)),void 0!==e.zipcodeStep&&(s.mst.zipcode_step=parseInt(e.zipcodeStep)),void 0!==e.ageStep&&(s.mst.age_step=parseInt(e.ageStep)),void 0!==e.passwordStep&&(s.mst.password_step=parseInt(e.passwordStep)),void 0!==e.genderStep&&(s.mst.gender_step=parseInt(e.genderStep)),void 0!==e.unickStep&&(s.mst.unick_step=parseInt(e.unickStep)),void 0!==e.uadvertStep&&(s.mst.uadvert_step=parseInt(e.uadvertStep)),void 0!==e.uadvertTitleStep&&(s.mst.uadvert_title_step=parseInt(e.uadvertTitleStep)),void 0!==e.buildStep&&(s.mst.build_step=parseInt(e.buildStep)),void 0!==e.raceStep&&(s.mst.race_step=parseInt(e.raceStep)),void 0!==e.ustatusStep&&(s.mst.ustatus_step=parseInt(e.ustatusStep)),void 0===e.loProb||isNaN(e.loProb)||(s.mst.loProb=parseInt(e.loProb)),s.sendTrackHit({type:"curr_step",curr_step:s.mst.curr_step,num_steps:s.mst.num_steps},{use_dd:!1}),s.nextStep=function(){var t=s.mst.curr_step;if(0==s.errors.length&&(s.enable_step_timer_tracking&&s.sendTrackHit(),s.mst.curr_step+=1),s.mst.curr_step>s.mst.num_steps)s.handleWellHelloRequest();else if(s.mst.loProb&&2==s.mst.curr_step&&parseFloat((100*Math.random()).toFixed(5))<=s.mst.loProb&&s.loadLo(),s.sendTrackHit({type:"curr_step",curr_step:s.mst.curr_step,num_steps:s.mst.num_steps}),s.pushwoosh.step&&s.mst.curr_step==s.pushwoosh.step&&s.subscribePushwoosh(),s.oneSignal.step&&s.mst.curr_step==s.oneSignal.step&&s.subscribeOneSignal(),void 0!==s.mst.step_animation_handler){var e=window[s.mst.step_animation_handler];"function"==typeof e&&e(t,s.mst.curr_step)}else $("."+s.mst.step_class).hide(),$("."+s.mst.step_class+"[data-step="+s.mst.curr_step+"]").show()},s.$watch("errors",function(t){0<t.length&&s.apiErrorStep(t)},!1)}}}]);